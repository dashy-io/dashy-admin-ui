"use strict";!function(){$(".list-group-item").on("click",function(r){var a=$(this).closest(".list-group").children(".active");a.removeClass("active"),$(r.target).addClass("active")});var r=angular.module("dashyAdmin",["ui.bootstrap","ngRoute"]);r.config(["$routeProvider","$locationProvider",function(r){r.when("/",{templateUrl:"main.html",controller:"MainCtrl",controllerAs:"main"}).when("/dashboards/:dashboardId",{templateUrl:"dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard"}).otherwise({redirectTo:"/"})}]),r.factory("api",["$http",function(r){return{getServerStatus:function(){return r.get("http://api.dashy.io/status")},getUserDashboards:function(a){var t=a;return t="cc1f2ba3-1a19-44f2-ae78-dc9784a2a60f",r.get("http://api.dashy.io/users/"+t)},getDashboard:function(a){return r.get("http://api.dashy.io/dashboards/"+a)},setDashboard:function(a){return r.post("http://api.dashy.io/dashboards/"+a.id,{id:a.id,interval:a.interval,name:a.name,urls:a.urls})}}}]),r.controller("ServerStatusCtrl",["$scope","api",function(r,a){var t=a.getServerStatus();t.success(function(a,t){r.serverStatus=200===t?!0:!1}).error(function(){r.serverStatus=!1,r.serverError=404})}]),r.controller("MainCtrl",["$scope","api",function(r,a){var t=a.getUserDashboards();t.success(function(t){t.dashboards.forEach(function(t){a.getDashboard(t).success(function(a){r.dashboards=[],r.dashboards.push(a)})})}).error(function(){r.dashboards=[],r.dashboardsError="Couldn't load your dashboards"})}]),r.controller("DashboardCtrl",["$scope","api","$routeParams",function(r,a,t){a.getDashboard(t.dashboardId).success(function(a){r.dashboard=a}),r.addUrl=function(){r.dashboard.urls.push("")},r.saveDashboard=function(r){console.log(r),a.setDashboard(r).success(function(r,a){console.log(a)})}}])}();